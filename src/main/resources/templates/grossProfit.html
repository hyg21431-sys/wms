<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>입출고 등록 확인</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <!-- 헤더 -->
    <header class="header">
        <h1>물류 창고 입출고 프로그램</h1>
        <div>
            <nav class="nav">
                <ul>
                    <li><a href="/product">제품조회</a></li>
                    <li><a href="/inoutRegister">입출고등록</a></li>
                    <li><a href="/viewInoutRegister">입출고내역조회</a></li>
                    <li><a href="/grossProfit">출고매출이익</a></li>
                    <li><a href="/">홈으로</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- 메인 -->
    <main class="main">
        <section>
            <div>
                <h2>(제품별)출고매출이익통계</h2>
                <div class="table-container">
                    <table class="data-table">
					    <thead>
					        <tr>
					            <th>제품코드</th>
					            <th>제품명</th>
					            <th>출고수량</th>
					            <th>출고매출이익</th>
					        </tr>
					    </thead>
					    <tbody>
					     	<!-- 각 제품별 매출이익 반복 출력 -->
					        <tr th:each="item : ${grossProfitList}">
					            <td th:text="${item.product_code}"></td>
					            <td th:text="${item.product_name}"></td>
					            <td th:text="${item.t_count}"></td>
					            <!-- 숫자 포맷팅: 천단위 콤마, 앞에 ₩ 표시 -->
					            <td th:text="'\\ ' + ${#numbers.formatInteger(item.grossprofit, 1, 'COMMA')}"></td>
					        </tr>
					        <!-- ===== 합계 행 ===== -->
					        <tr class="sum-row">
					            <td colspan="2">합계</td>
					            <!-- 출고수량 총합 -->
					            <td th:text="${totalCount}"></td>
					            <!-- 매출이익 총합 -->
					            <td th:text="'\\ ' + ${#numbers.formatInteger(totalProfit, 1, 'COMMA')}"></td>
					        </tr>
					    </tbody>
					</table>
                </div>
            </div>
        </section>
    </main>

    <!-- 푸터 -->
    <footer class="footer">
        <p>copyright ⓒ 2024 KOREA INFORMATION TECHNOLOGY ACADEMY. ALL RIGHTS RESERVED</p>
    </footer>
</body>
</html>